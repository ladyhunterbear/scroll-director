(function (factory) {
	typeof define === 'function' && define.amd ? define(factory) :
	factory();
}((function () { 'use strict';

	function unwrapExports (x) {
		return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
	}

	function createCommonjsModule(fn, basedir, module) {
		return module = {
		  path: basedir,
		  exports: {},
		  require: function (path, base) {
	      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);
	    }
		}, fn(module, module.exports), module.exports;
	}

	function commonjsRequire () {
		throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
	}

	var main = createCommonjsModule(function (module, exports) {
	!function(t,e){module.exports=e();}(window,(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s});},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){e.__esModule=!0,function(t){t.threshold="threshold",t.range="range",t.dynamic="dynamic",t.scroll="scroll";}(e.TriggerType||(e.TriggerType={})),function(t){t.class="class",t.style="style",t.custom="custom";}(e.ActionType||(e.ActionType={})),function(t){t.top="top",t.right="right",t.bottom="bottom",t.left="left",t.y="y",t.x="x";}(e.Side||(e.Side={})),function(t){t[t.before=-1]="before",t[t.in=0]="in",t[t.after=1]="after";}(e.ViewportPosition||(e.ViewportPosition={})),function(t){t.px="px",t.percent="%",t.vh="vh",t.vw="vw",t.rem="rem",t.em="em",t.none="";}(e.CssPropertyType||(e.CssPropertyType={})),function(t){t.up="up",t.down="down",t.left="left",t.right="right",t.vertical="vertical",t.horizontal="horizontal";}(e.Direction||(e.Direction={})),function(t){t.final="final",t.on="on",t.initial="initial";}(e.TriggerState||(e.TriggerState={})),function(t){t.hex="hex",t.name="name",t.rgb="rgb",t.rgba="rgba";}(e.ColorType||(e.ColorType={}));},function(t,e,i){e.__esModule=!0;var s=i(2);e.default=s.default;},function(t,e,i){e.__esModule=!0;var s=i(3),r=i(0),o=function(){function t(){return this.el=window,this.minScrollTime=20,this.minScrollAmount=10,this.lastScrollTime=0,this.lastScrollYPos=0,this.currentScroll=0,this.currentScrollOffset=this.el.scrollY,this.scrollDirection=1,this.triggers=[],this.instance=null,this.instance||(this.instance=this),this.instance}return t.prototype.inViewport=function(t){var e;return t.top()<window.innerHeight&&t.bottom()>0?e=r.ViewportPosition.in:t.bottom()<=0?e=r.ViewportPosition.before:t.top()>=window.innerHeight&&(e=r.ViewportPosition.after),e},t.prototype.checkTriggers=function(){var t=(new Date).getTime();0==this.triggers.length||t-this.lastScrollTime<this.minScrollTime||(this.lastScrollTime=t,this.lastScrollYPos-this.el.scrollY>0&&1==this.scrollDirection?(this.currentScroll=0,this.currentScrollOffset=this.el.scrollY,this.scrollDirection=-1):this.lastScrollYPos-this.el.scrollY<0&&-1==this.scrollDirection?(this.currentScroll=0,this.currentScrollOffset=this.el.scrollY,this.scrollDirection=1):this.currentScroll=(this.el.scrollY-this.currentScrollOffset)*this.scrollDirection,this.lastScrollYPos=this.el.scrollY,this.draw());},t.prototype.add=function(t){var e=new s.Trigger(t);e&&this.triggers.push(e);var i=this.triggers.length-1;return this.triggers[i]},t.prototype.draw=function(){var t=this;setTimeout((function(){t.triggers.forEach((function(t){t.update();}));}),100);},t.prototype.resize=function(){this.triggers.forEach((function(t){})),console.log("resize"),this.draw();},t.prototype.init=function(){var t=this;try{if(0==this.triggers.length)throw new Error("Add triggers before calling init.");window.addEventListener("scroll",(function(){setTimeout((function(){t.checkTriggers();}),200),t.checkTriggers();})),window.addEventListener("resize",(function(){return t.resize()})),this.draw();}catch(t){console.warn(t.message);}},t}();e.default=o;},function(t,e,i){e.__esModule=!0;var s=i(0),r=i(4),o=i(5),n=function(){function t(t){var e=this;this._triggerType=s.TriggerType.threshold,this._actionType=s.ActionType.class,this._basis=s.Side.bottom,this._focus=s.Side.top,this._direction=s.Direction.vertical,this._offset=0,this._range=0,this._callback=function(){var t=Object.assign(e._callbackProps,{_triggerState:e._state,_triggerRangePercent:e._thresholdCurrentPercent});e._callbackFunction(t);};try{if(void 0===t)throw new Error("Missing target");var i=t.charAt(0),r=void 0;switch(i){case"#":r=document.getElementById(t.substring(1,t.length));break;case".":r=document.getElementsByClassName(t.substring(1,t.length));break;case"[":r=document.querySelectorAll(t);break;default:r=document.getElementsByTagName(t);}r?(this._element=r,this.setup()):console.warn("Invalid trigger target: '"+t+"'");}catch(t){console.warn(t.message);}}return t.prototype._setThresholdCurrentPercent=function(t,e){switch(this._state){case s.TriggerState.initial:this._thresholdCurrentPercent=0;break;case s.TriggerState.on:t=t<0?-1*t:t,this._thresholdCurrentPercent=1-e/(t+e)>1?1:1-e/(t+e);break;case s.TriggerState.final:this._thresholdCurrentPercent=100;}},t.prototype.element=function(){return this._element},t.prototype.triggerType=function(){return this._triggerType},t.prototype.actionType=function(){return this._actionType},t.prototype.thresholdMin=function(){return this._thresholdMin},t.prototype.thresholdMax=function(){return this._thresholdMax},t.prototype.threshold=function(){return this._thresholdMin},t.prototype.top=function(){return this._element.getBoundingClientRect().top},t.prototype.bottom=function(){return this._element.getBoundingClientRect().bottom},t.prototype.left=function(){return this._element.getBoundingClientRect().left},t.prototype.right=function(){return this._element.getBoundingClientRect().right},t.prototype.state=function(){return this._state},t.prototype.basis=function(t){return void 0===t&&(t=s.Side.bottom),Object.values(s.Side).includes(t)&&(this._basis=t),this.update(),this},t.prototype.focus=function(t){return void 0===t&&(t=s.Side.top),Object.values(s.Side).includes(t)&&(this._focus=t),this.update(),this},t.prototype.offset=function(t){return void 0===t&&(t=0),"number"!=typeof t&&console.warn("Invalid optional 'offset' property. Expected number."),t>0&&(this._offset=t),this.update(),this},t.prototype.range=function(t){return void 0===t&&(t=100),"number"!=typeof t&&t>0?(this._range=100,this):(this._triggerType=s.TriggerType.range,this._range=t,this.update(),this)},t.prototype.dynamicStyle=function(t,e,i,o){void 0===o&&(o=s.CssPropertyType.none);var n=new r.CssStyle(t,o,e,i,i);return this._style=n,this._triggerType=s.TriggerType.dynamic,this._actionType=s.ActionType.style,this},t.prototype.direction=function(t){void 0===t&&(t=s.Direction.vertical);var e=t.charAt(0).toUpperCase()+t.slice(1);return e in s.Direction&&(this._direction=s.Direction[e]),this},t.prototype.style=function(t,e,i,o,n){void 0===o&&(o=""),void 0===n&&(n=s.CssPropertyType.none),o="string"==typeof o&&0==o.length?e:o;var h=new r.CssStyle(t,n,e,i,o);return this._style=h,this._actionType=s.ActionType.style,this},t.prototype.class=function(t,e,i){void 0===i&&(i=""),i=0==i.length?t:i;var r=new o.CssClass(t,e,i);return this._class=r,this._actionType=s.ActionType.class,this},t.prototype.do=function(t,e){return void 0===e&&(e={}),this._callbackFunction=t,this._callbackProps=e,this._actionType=s.ActionType.custom,this},t.prototype.height=function(){return this.bottom()-this.top()},t.prototype.once=function(){},t.prototype._toggleClass=function(){if(void 0!==this._class&&!this._element.classList.contains(this._class[this._state])){for(var t in this._class)console.log("class in CssClass: "+t+" / "+this._class[this._state]),this._element.classList.contains(this._class[t])&&this._element.classList.remove(this._class[t]);this._element.classList.add(this._class[this._state]);}},t.prototype._toggleStyle=function(){this._element.style[this._style.property()]=this._style[this._state]();},t.prototype._dynamicStyle=function(){this._thresholdMax<=0?this._element.style[this._style.property()]=this._style.final():this._thresholdMin<=0&&this._thresholdMax>0?this._element.style[this._style.property()]=this._style.initialNumericValue()+(this._style.finalNumericValue()-this._style.initialNumericValue())*this._thresholdCurrentPercent+this._style.type():this._thresholdMin>0&&(this._element.style[this._style.property()]=this._style.initial());},t.prototype.setup=function(){this.update();},t.prototype._setState=function(){this._thresholdMin>0?this._state=s.TriggerState.initial:this._triggerType===s.TriggerType.threshold&&this._thresholdMin<0||(this._triggerType===s.TriggerType.range||this._triggerType===s.TriggerType.dynamic)&&this._thresholdMin<=0&&this._thresholdMax>=0?this._state=s.TriggerState.on:this._triggerType===s.TriggerType.scroll||this._thresholdMax<0&&(this._state=s.TriggerState.final);},t.prototype.update=function(){switch(console.info("update"),this._offsetPx=window.innerHeight*this._offset/100,this._rangePx=window.innerHeight*this._range/100,this._basis){case s.Side.bottom:switch(this._focus){case s.Side.top:this._thresholdMin=this.top()-window.innerHeight+this._offsetPx,this._thresholdMax=this.top()-window.innerHeight+this._offsetPx+this._rangePx;break;case s.Side.bottom:this._thresholdMin=this.bottom()-window.innerHeight+this._offsetPx,this._thresholdMax=this.bottom()-window.innerHeight+this._offsetPx+this._rangePx;break;case s.Side.y:this._thresholdMin=this.top()-window.innerHeight+this._offsetPx,this._thresholdMax=this.bottom()-window.innerHeight+this._offsetPx+this._rangePx;}this._setThresholdCurrentPercent(this._thresholdMin,this._thresholdMax);break;case s.Side.top:switch(this._focus){case s.Side.top:this._thresholdMin=this.top()-this._offsetPx-this._rangePx,this._thresholdMax=this.top()-this._offsetPx;break;case s.Side.bottom:this._thresholdMin=this.bottom()-this._offsetPx-this._rangePx,this._thresholdMax=this.bottom()-this._offsetPx;break;case s.Side.y:this._thresholdMin=this.top()-this._offsetPx-this._rangePx,this._thresholdMax=this.bottom()-this._offsetPx;}this._setThresholdCurrentPercent(this._thresholdMax,this._thresholdMin);}switch(this._setState(),this._triggerType){case s.TriggerType.threshold:case s.TriggerType.range:switch(this._actionType){case s.ActionType.class:this._toggleClass();break;case s.ActionType.style:this._toggleStyle();break;case s.ActionType.custom:this._callback();}break;case s.TriggerType.dynamic:switch(this._actionType){case s.ActionType.class:break;case s.ActionType.style:this._dynamicStyle();break;case s.ActionType.custom:this._callback();}}},t}();e.Trigger=n;},function(t,e,i){e.__esModule=!0;var s=function(){function t(t,e,i,s,r){void 0===r&&(r="");try{if(void 0===t)throw new Error("Missing style property.");this._property=t,this._type=e,this._initial=i,this._on=s,this._final=r;}catch(t){console.log(t.message);}}return t.prototype.property=function(){return this._property},t.prototype.type=function(){return this._type},t.prototype.initial=function(){return this._initial+this._type},t.prototype.initialNumericValue=function(){return this._initial},t.prototype.on=function(){return this._on+this._type},t.prototype.onNumbericValue=function(){return this._on},t.prototype.final=function(){return this._final+this._type},t.prototype.finalNumericValue=function(){return this._final},t}();e.CssStyle=s;},function(t,e,i){e.__esModule=!0;var s=function(t,e,i){void 0===i&&(i=""),this.final="",this.initial=t,this.on=e,this.final=i;};e.CssClass=s;}])}));
	});

	var ScrollDirector = unwrapExports(main);

	/*jshint esversion: 6 */
	window.SD = new ScrollDirector();
	console.log(window.SD);

})));
